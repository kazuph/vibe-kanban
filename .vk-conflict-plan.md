PR #4 コンフリクト解消計画（vk/move-attempt-actions-to-header）

概要
- 対象PR: #4 (branch: `vk/move-attempt-actions-to-header`)
- 目的: 最新 `main` 取り込み後の競合を解消して PR を緑にする
- 上流の大規模変更: 「profiles → executors」リネーム、MCP設定API変更、タスク一覧のストリーミング導入 ほか

現在の状態（2025-09-09 進捗）
- リベース方式で `origin/main` に載せ替え中。
- 進捗: 12/77（rebase 停止中）
- 次の競合: `frontend/src/pages/project-tasks.tsx`（tasks ストリーミング導入コミットに伴う競合）
- 既に解決済み（抜粋）
  - `frontend/src/hooks/useExecutionProcesses.ts`: 上流で削除されたため、参照を除去
  - `frontend/src/components/GitHubLoginDialog.tsx`: UI 差分のマージ（デバイス認証UI）
  - `AGENTS.md`/`DEVELOPER_GUIDE.md`: 文書の二重化を解消（上流の AGENTS.md 統合方針を採用）
  - `package.json`: バージョンは `0.0.72`、name はフォーク名 `@kazuph/vkanban` を維持
  - `frontend/src/pages/McpServers.tsx`: 新 API（`McpServerQuery = { executor: BaseCodingAgent }`）に追従、profiles→executors のキー解決を明示（`profiles` 連想の key 逆引き）

方針オプション
1) 続行（リベースで履歴をきれいに保つ）[推奨]
   - 所要目安: 20–30分（残り ~65 コミット、競合は限定的に収束見込み）
2) マージ戦略へ切替（`main` をブランチにマージ）
   - 所要目安: 10–15分、履歴にマージコミットが残る。rebase の途中成果は破棄してやり直し。

推奨ワークフロー（リベース継続）
- 事前
  - `git fetch origin --prune`
- リベース再開（現在停止中）
  - 競合ファイル単位で解決 → `git add -A` → `git rebase --continue`
  - 次の競合想定:
    - `frontend/src/pages/project-tasks.tsx`: 上流のストリーミング化に合わせ、既存のツールバー/ヘッダー変更を温存しつつ、`useProjectTasks`/SSE 連携へ移行。
    - `frontend/src/pages/McpServers.tsx`: 既に新API対応済み。以降の細かな追従競合が出たら executor キー（`BaseCodingAgent`）基準で整合。
- 解決ルール
  - 型名変更: Profile → Executor に読み替え（shared/types.ts の最新生成物をソースオブドラスとする）
  - MCP 設定: `mcpServersApi.load/save` は `?executor=<BaseCodingAgent>` を使用
  - 廃止フック: `useExecutionProcesses` 参照は除去。代替は pages 側のストリーム/既存 hooks を確認
  - package.json: `name: @kazuph/vkanban` を維持、version は upstream に追従（現状 0.0.72）
- バリデーション（各停止点ごとに）
  - `cargo check`
  - `pnpm -C frontend i && pnpm -C frontend check`
  - 必要に応じて `npm run generate-types`（Rust→TS 型生成）
- 完了
  - `git push --force-with-lease origin HEAD:vk/move-attempt-actions-to-header`
  - PR #4 を更新し、ラベル `needs-review` を付与

代替（早さ優先: マージ切替）
- `git rebase --abort`
- `git checkout vk/move-attempt-actions-to-header`
- `git merge origin/main` → 競合解消 → `git push origin vk/move-attempt-actions-to-header`

注意点
- 余計な変更を含めない（作業対象以外の unstaged を常に確認）
- 競合解消では upstream の API/型の最新に寄せる（ローカル拡張がある場合は最小差分で再適用）
- CI がないため、ローカル `cargo check` と `frontend check` を通してから push

担当・引継ぎ
- 本Issueはリベース継続を前提にした作業手順を明文化。別のAI/メンバーがこのIssueに沿って継続可能です。
- 現在の停止位置: `Rebasing (12/77)`, 競合: `frontend/src/pages/project-tasks.tsx`

